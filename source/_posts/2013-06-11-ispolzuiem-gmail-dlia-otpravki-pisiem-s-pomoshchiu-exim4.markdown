---
layout: post
title: "Используем gmail для отправки писем с помощью exim4"
date: 2013-06-11 21:23
comments: true
categories: [Gmail, Exim4, Debian, разработка]
---

{% pullquote %}
Если вы используете дома *GNU/Linux*-сервер для тестирования и разработки, то вам наверное как и мне захочется настроить демон *Exim4* для отправки почты. Я использую дестрибутив *Debian GNU/Linux 7.0 (wheezy)* и ниже будет описана инструкция по настройки конфигурации *Exim4* для отправки писем через Гугловый SMTP используя *gmail-акаунт*. Сразу хочу предупредить что {" GOOGLE разрешает отправлять не более 100 писем в день "} используя его SMTP сервис. Так что имей это ввиду если собрался спамить =)
{% endpullquote %}
<!--more-->

###Запускаем в терминале

	#dpkg-reconfigure exim4-config

И по шагам указываем следующую информацию  
**Общий тип почтовой конфигурации:**  
отправка почты через smarthost; приём по SMTP или через fetchmail  
**Почтовое имя системы:**  
Оставляем пустую строку  
**IP-адреса, с которых следует ожидать входящие соединения SMTP:**  
127.0.0.1  
**Другие места назначения, для которых должна приниматься почта:**  
Оставляем пустую строку  
**Машины, для которых доступна релейная передача почты:**  
Оставляем пустую строку  
**IP-адрес или имя хоста являющегося исходящим smarthost:**  
smtp.gmail.com::587  
**Скрывать локальное почтовое имя в исходящей почте?**  
Нет  
**Сокращать количество DNS-запросов до минимума (дозвон по требованию)?**  
Нет  
**Метод доставки локальной почты:**  
mbox формат в /var/mail/  
**Разделить конфигурацию на маленькие файлы?**   
Да  

Аутентификационая информация на внешние SMTP сервера программа Exim4 хранит в фале `/etc/exim4/passwd.client` доступном на чтение и изменение только пользователю *root*. 
	# editor /etc/exim4/passwd.client
в этот файл надо добавить следующие строки, заменив конечно логин и пароль на свои!
	*.google.com:YourAccountName@gmail.com:y0uRpaSsw0RD
Осталось выполнить последний штрих. Обновить конфигурацию и перезапустить демон.
	# update-exim4.conf
для тех кто перешол на *systemd*
	# systemctl restart exim4.service
остальные перезапускают exim4 привычным образом, можно например вот так:
	# invoke-rc.d exim4 restart
**P.S.** Для того что бы проверить работоспособность выполненой конфигурации выполни в терменале следующею команду.
	echo "This is my test message!" | mail -s Test your_another_acount@mail.ru

